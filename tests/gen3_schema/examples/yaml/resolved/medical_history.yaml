$schema: http://json-schema.org/draft-04/schema#
id: medical_history
title: Medical History
type: object
namespace: http://commons.heartdata.baker.edu.au/
category: clinical
program: '*'
project: '*'
description: Medical history of the participant
additionalProperties: false
submittable: true
validators: null
systemProperties:
- id
- project_id
- state
- created_datetime
- updated_datetime
links:
- name: subjects
  backref: medical_histories
  label: describes
  target_type: subject
  multiplicity: one_to_one
  required: true
required:
- type
- submitter_id
- subjects
uniqueKeys:
- - id
- - project_id
  - submitter_id
properties:
  type:
    type: string
  id:
    term:
      description: 'A 128-bit identifier. Depending on the mechanism used to generate
        it, it is either guaranteed to be different from all other UUIDs/GUIDs generated
        until 3400 AD or extremely likely to be different. Its relatively small size
        lends itself well to sorting, ordering, and hashing of all sorts, storing
        in databases, simple allocation, and ease of programming in general.

        '
      termDef:
        term: Universally Unique Identifier
        source: NCIt
        cde_id: C54100
        cde_version: null
        term_url: https://ncit.nci.nih.gov/ncitbrowser/ConceptReport.jsp?dictionary=NCI_Thesaurus&version=16.02d&ns=NCI_Thesaurus&code=C54100
    type: string
    pattern: ^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$
    systemAlias: node_id
  submitter_id:
    type: string
    description: 'A project-specific identifier for a node. This property is the calling
      card/nickname/alias for a unit of submission. It can be used in place of the
      UUID for identifying or recalling a node.

      '
  state:
    term:
      description: 'The current state of the object.

        '
    default: validated
    downloadable:
    - uploaded
    - md5summed
    - validating
    - validated
    - error
    - invalid
    - released
    public:
    - live
    oneOf:
    - enum:
      - uploading
      - uploaded
      - md5summing
      - md5summed
      - validating
      - error
      - invalid
      - suppressed
      - redacted
      - live
    - enum:
      - validated
      - submitted
      - released
  project_id:
    type: string
    term:
      description: 'Unique ID for any specific defined piece of work that is undertaken
        or attempted to meet a single requirement.

        '
  created_datetime:
    oneOf:
    - type: string
      format: date-time
    - type: 'null'
    term:
      description: 'A combination of date and time of day in the form [-]CCYY-MM-DDThh:mm:ss[Z|(+|-)hh:mm]

        '
  updated_datetime:
    oneOf:
    - type: string
      format: date-time
    - type: 'null'
    term:
      description: 'A combination of date and time of day in the form [-]CCYY-MM-DDThh:mm:ss[Z|(+|-)hh:mm]

        '
  subjects:
    anyOf:
    - type: array
      items:
        type: object
        additionalProperties: true
        properties:
          id:
            term:
              description: 'A 128-bit identifier. Depending on the mechanism used
                to generate it, it is either guaranteed to be different from all other
                UUIDs/GUIDs generated until 3400 AD or extremely likely to be different.
                Its relatively small size lends itself well to sorting, ordering,
                and hashing of all sorts, storing in databases, simple allocation,
                and ease of programming in general.

                '
              termDef:
                term: Universally Unique Identifier
                source: NCIt
                cde_id: C54100
                cde_version: null
                term_url: https://ncit.nci.nih.gov/ncitbrowser/ConceptReport.jsp?dictionary=NCI_Thesaurus&version=16.02d&ns=NCI_Thesaurus&code=C54100
            type: string
            pattern: ^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$
          submitter_id:
            type: string
        minItems: 1
        maxItems: 1
    - type: object
      additionalProperties: true
      properties:
        id:
          term:
            description: 'A 128-bit identifier. Depending on the mechanism used to
              generate it, it is either guaranteed to be different from all other
              UUIDs/GUIDs generated until 3400 AD or extremely likely to be different.
              Its relatively small size lends itself well to sorting, ordering, and
              hashing of all sorts, storing in databases, simple allocation, and ease
              of programming in general.

              '
            termDef:
              term: Universally Unique Identifier
              source: NCIt
              cde_id: C54100
              cde_version: null
              term_url: https://ncit.nci.nih.gov/ncitbrowser/ConceptReport.jsp?dictionary=NCI_Thesaurus&version=16.02d&ns=NCI_Thesaurus&code=C54100
          type: string
          pattern: ^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$
        submitter_id:
          type: string
  diabetes_type:
    description: diabetes diagnosed by fasting blood glucose >=7 mmol/l or tx AHA
      or 2 hour blood glucose >=11.1 mmol/l.
    termDef:
    - term: Diabetes mellitus
      source: hpo
      term_id: HP:0000819
      term_version: '2021-10-10'
    enum:
    - IGT
    - KDM
    - IFG
    - NDM
    - NGT
    enumDef:
    - enumeration: IGT
      source: hpo
      term_id: HP:0040270
    - enumeration: NDM
      source: SNOMED
      term_id: '870528001'
    - enumeration: NGT
      source: SNOMED
      term_id: '166926006'
  hypertension:
    description: Whether the participant has Hypertension
    enum:
    - yes, measured or on treatment
    - yes, self-reported
    - 'no'
    - not reported
    - not collected
  hypertension_measurement_type:
    description: Whether the hypertension was measured at recruitment/patients on
      hypertension treatment or self-reported medical diagnosis
    enum:
    - self-reported
    - measured
  diabetes:
    description: Self-reported diabetes in the participant
    termDef:
    - term: Diabetes mellitus
      source: hpo
      term_id: HP:0000819
    enum:
    - 'yes'
    - 'no'
    - unsure
    - not reported
    - not collected
